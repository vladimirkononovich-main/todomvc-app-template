(this.webpackJsonplearnreact3=this.webpackJsonplearnreact3||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),l=n(14),i=n.n(l),a=n(13),r=o.a.createContext(),d=n(0);var s=function(){var e,t=Object(c.useContext)(r).addNewTodo;return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"todos"}),Object(d.jsx)("input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:e,onInput:function(t){e=t.target.value},onKeyDown:t})]})};var u=function(e){var t=e.value,n=e.id,o=Object(c.useContext)(r),l=o.toggleTodo,i=o.removeTodo,a=o.editingTodo,s=o.handleEdit,u=o.editedTodo,j=o.onBlurEditTodo,h=Object(c.useRef)(null);Object(c.useEffect)((function(){h.current.focus()}));var b,m,p,f,O=[];return t.map((function(e){e.id===n&&!0===e.completed&&(O.push("completed"),b=!0),e.id===n&&!0===e.editing&&(p="editing"),e.id===n&&(m=e.title),e.id===n&&(f=e.editingValue)})),Object(d.jsxs)("li",{className:O[0]+" "+p,children:[Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{className:"toggle",type:"checkbox",onChange:function(){return l(n)},checked:b||""}),Object(d.jsx)("label",{onDoubleClick:function(){return a(n)},children:m}),Object(d.jsx)("button",{className:"destroy",onClick:function(){return i(n)}})]}),Object(d.jsx)("input",{className:"edit",id:n,ref:h,value:f,onInput:s.bind(this,n),onKeyDown:u.bind(this,n),onBlur:function(){return j(n)}})]})};var j=function(e){var t=e.value;return t.map((function(e){return Object(d.jsx)(u,{value:t,id:e.id},e.id)}))};var h=function(e){var t=e.value;return t.map((function(e){if(!0===e.completed)return Object(d.jsx)(u,{value:t,id:e.id},e.id)}))},b=n(2);var m=function(e){var t=e.value;return t.map((function(e){if(!1===e.completed)return Object(d.jsx)(u,{value:t,id:e.id},e.id)}))};var p=function(e){var t,n=e.value,o=Object(c.useContext)(r).toggleAllTodo,l=[];return n.map((function(e){!1===e.completed?l.push(!1):l.push(!0)})),l.includes(!1)&&(t=!1),!l.includes(!1)&&l.includes(!0)&&(t=!0),Object(d.jsxs)("section",{className:"main",children:[Object(d.jsx)("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",onChange:function(){return o()},checked:t||""}),Object(d.jsx)("label",{htmlFor:"toggle-all"}),Object(d.jsxs)("ul",{className:"todo-list",children:[Object(d.jsx)(b.a,{exact:!0,path:"/",children:Object(d.jsx)(j,{value:n})}),Object(d.jsx)(b.a,{path:"/active",children:Object(d.jsx)(m,{value:n})}),Object(d.jsx)(b.a,{path:"/completed",children:Object(d.jsx)(h,{value:n})})]})]})},f=n(7);var O=function(e){var t=e.value,n=Object(c.useContext)(r),o=n.removeCompleted,l=n.hashValue,i=t.filter((function(e){return!1===e.completed}));return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsxs)("span",{className:"todo-count",children:[Object(d.jsx)("strong",{children:i.length})," item",0===i.length||i.length>1?"s":null," left"]}),Object(d.jsxs)("ul",{className:"filters",children:[Object(d.jsx)("li",{children:Object(d.jsx)(f.c,{className:"#/"==l?"selected":null,to:"/",children:"All"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.c,{className:"#/active"==l?"selected":null,to:"/active",children:"Active"})}),Object(d.jsx)("li",{children:Object(d.jsx)(f.c,{className:"#/completed"==l?"selected":null,to:"/completed",children:"Completed"})})]}),t.length>i.length?Object(d.jsx)("button",{className:"clear-completed",onClick:function(){return o()},children:"Clear completed"}):null]})};var v=function(){return Object(d.jsxs)("footer",{className:"info",children:[Object(d.jsx)("p",{children:"Double-click to edit a todo"}),Object(d.jsxs)("p",{children:["Template by ",Object(d.jsx)("a",{href:"http://sindresorhus.com",children:"Sindre Sorhus"})]}),Object(d.jsxs)("p",{children:["Created by ",Object(d.jsx)("a",{href:"https://github.com/vladimirkononovich-main",children:"Vladimir Kononovich"})]}),Object(d.jsxs)("p",{children:["Part of ",Object(d.jsx)("a",{href:"http://todomvc.com",children:"TodoMVC"})]})]})};var x=function(){var e=JSON.parse(localStorage.getItem("value")),t=Object(c.useState)(window.location.hash),n=Object(a.a)(t,2),o=n[0],l=n[1],i=Object(c.useState)(e||[]),u=Object(a.a)(i,2),j=u[0],h=u[1];return localStorage.setItem("value",JSON.stringify(j)),console.log(j.map((function(e){return e.hash}))),o!==window.location.hash&&l(window.location.hash),Object(d.jsx)(r.Provider,{value:{value:j,addNewTodo:function(e){"Enter"===e.code&&e.target.value.trim()&&(h(j.concat([{title:e.target.value,id:performance.now(),completed:!1,editing:!1,editingValue:e.target.value,hash:window.location.hash}])),e.target.value=null)},toggleTodo:function(e){h(j.map((function(t){return t.id===e&&(t.completed=!t.completed),t})))},removeTodo:function(e){h(j.filter((function(t){return t.id!==e})))},toggleAllTodo:function(){var e;j.map((function(t){0==t.completed&&(e=!1)})),h(j.map((function(t){return t.completed=0==e,t})))},removeCompleted:function(){h(j.filter((function(e){return!0!==e.completed})))},editingTodo:function(e){h(j.map((function(t){return t.id===e&&(t.editing=!t.editing),t})))},handleEdit:function(e,t){h(j.map((function(n){return n.id===e&&(n.editingValue=t.target.value),n})))},editedTodo:function(e,t){h(j.map((function(n){return n.id===e&&"Enter"===t.code&&(n.title=n.editingValue,n.editing=!1),n.id===e&&"Escape"===t.code&&(n.editing=!1),n})))},onBlurEditTodo:function(e){h(j.map((function(t){return t.id===e&&(t.editing=!1),t})))},hashValue:o},children:Object(d.jsx)(f.a,{children:Object(d.jsx)(f.b,{children:Object(d.jsx)(b.c,{children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("section",{className:"todoapp",children:[Object(d.jsx)(s,{}),j.length>0?Object(d.jsx)(p,{value:j}):null,j.length>0?Object(d.jsx)(O,{value:j}):null]}),Object(d.jsx)(v,{})]})})})})})};n(30);i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.0eef7b95.chunk.js.map